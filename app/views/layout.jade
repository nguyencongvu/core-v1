doctype html
html
    head
        meta(name="viewport",content="width=device-width, initial-scale=1.0")
        meta(name="apple-mobile-web-app-capable" content="yes")
        meta(name="mobile-web-app-capable" content="yes")


        block title
            title Xong viec nhanh | Vien Nguyen Software 
        
        //- link(rel='stylesheet', href='https://fonts.googleapis.com/icon?family=Material+Icons')
        script(src="https://maps.googleapis.com/maps/api/js?sensor=true")    

        //-- BOWER 

        //- script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js')
        script(src="/bower_components/jquery/dist/jquery.min.js")
        
        //- link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css')
        //- script(src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js")
        link(rel='stylesheet', href='/bower_components/materialize/dist/css/materialize.min.css')
        script(src="/bower_components/materialize/dist/js/materialize.min.js")

        //- link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css')
        link(rel='stylesheet', href='/bower_components/font-awesome/css/font-awesome.min.css')

        //- script(src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js")
        script(src="/bower_components/moment/min/moment.min.js")

        //- script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js")   
        script(src="/bower_components/Chart.js/dist/Chart.min.js")    

        //- script(src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.6/socket.io.min.js")
        script(src="/bower_components/socket.io-client/socket.io.js")

        //- leaflet 
        link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css")
        script(src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js")

        //- link(href='https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.1/summernote.css', rel='stylesheet')
        //- script(src='http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.1/summernote.js')
        
        link(href="/bower_components/summernote/dist/summernote.css" rel="stylesheet")
        script(src="/bower_components/summernote/dist/summernote.min.js")

        

        link(href="/bower_components/animate.css/animate.min.css" rel="stylesheet")

        //--- LINK
        link(rel="stylesheet" href="/link/leaflet.awesome-markers.css")
        script(src="/link/leaflet.awesome-markers.min.js")

        link(rel='stylesheet', href='/link/daterangepicker.css')
        script(src="/link/daterangepicker.js")

        link(rel="stylesheet" href="/link/easy-autocomplete.css")
        script(src="/link/jquery.easy-autocomplete.min.js")

        //- link(rel="stylesheet" href="/link/selectize.css")
        //- script(src="/link/selectize.js")

        link(rel='stylesheet', href='/css/custom.css')
        script(src='/js/custom.js')

    body
        div.progress
            div.indeterminate  
        #page

            <!-- user array passed from passport.js -->
            if (user)
                    
                <!-- side bar -->
                ul#sidebar.side-nav
                    li#sidebar
                        div(style="padding:10px;").valign-wrapper
                            img(class="valign", width="30%", src='/img/logo_white.png') 
                            a(href="/profile").white-text
                                span Hi, #{user.username} 
                  
                    li 
                        div.divider
                    li
                        a(href="/dash") 
                            i(class="fa fa-dashboard") 
                            span(style="margin-left:10px;") Dashboard
                    li
                        a(href="/reports") 
                            i(class="fa fa-bar-chart") 
                            span(style="margin-left:10px;") Báo cáo
                    li
                        a(href="/requests") 
                            i(class="fa fa-bar-chart") 
                            span(style="margin-left:10px;") Yêu cầu
                    li
                        a(href="/issues") 
                            i(class="fa fa-bar-chart") 
                            span(style="margin-left:10px;") Sự cố 
                    li
                        a(href="/reports/report") 
                            i(class="fa fa-map-marker") 
                            span(style="margin-left:10px;") In và Bản đồ        
                    li
                        a(href="/logout") 
                            i(class="fa fa-key") 
                            span(style="margin-left:10px;") Logout            
                                
                    if (user.role.indexOf('admin')>-1)
                        li 
                            div.divider
                        li        
                            b.left10 Admin
                        li 
                            div.divider        
                        li
                            a(href="/admin/lists") 
                                i(class="fa fa-list") 
                                span(style="margin-left:10px;") Lists
                        li
                            a(href="/admin/users") 
                                i(class="fa fa-users") 
                                span(style="margin-left:10px;") Users
                        li 
                            div.divider
                    endif 
            endif
            
        
            
            
            div#content(style="min-height:600px;")
                //- MAIN CONTENT    
                
                block content

            if (user)        
                footer#page-footer.grey.darken-3.white-text 
                    div(style="padding:20px;")
                        #footer-copyright.center-align    
                            .container 
                                p Copyright © 2016 by 
                                    b Vien Nguyen Software
            endif    

        
        script.
            $(window).on("load",function(){
                $('.progress').fadeOut('fast',function(){
                    $(this).remove();
                });   
            });

            window.scrollTo(0,1);

            $(document).ready(function(){
                
                // COLOR in custom.js

                $("body").addClass(COLOR + " lighten-5");
                $(".main-color-text").addClass(COLOR + "-text text-darken-3");
                $(".main-color").addClass(COLOR + " darken-3");

                $(".progress, .indeterminate").addClass(COLOR + " lignten-1");
                $("nav#nav").addClass(COLOR + " darken-2 center-align");
                $("li#sidebar").addClass(COLOR + " darken-4 white-text center-align");
                $("ul#dropdown-1").addClass(COLOR + " darken-3");
                $("div#report").addClass(COLOR + " darken-4 white-text z-depth-1");
                $(".prefix").addClass(COLOR + "-text darken-4");
                $("ul.dropdown-content li a").addClass(COLOR + "-text");
                

                //-- others

                $('.button-collapse').show();
                $(".button-collapse").sideNav();

                $('.materialboxed').materialbox();
                
                //-- set all button waves
                $('.btn').addClass("waves-effect waves-light");
                $('.btn-floating').addClass("waves-effect waves-light");

                //-- animate.css
                $('.btn, .btn-floating').addClass('animated shake');
                $('ul.collapsible').addClass('animated bounceInRight');

            }); 

        //-- material popup message -- PHAI DE o END vi loi appendChild
        //- https://github.com/jaredreich/notie
        link(href="/bower_components/notie/dist/notie.css" rel="stylesheet")
        script(src="/bower_components/notie/dist/notie.min.js")

